require_relative "../helpers"

binding = Helpers::ADDRESSES[:himation]

Vagrant.configure(2) do |config|
  config.vm.define("himation") do |himation|

    himation.vm.box = "centos/7"

    himation.vm.hostname = "himation"

    himation.vm.network "private_network", ip: binding[:ip]
    himation.vm.network "forwarded_port", guest: 8080, host: binding[:port]

    himation.ssh.insert_key = false
    himation.ssh.private_key_path = Helpers.private_key_path
    himation.vm.provision "ansible" do |ansible|
      ansible.playbook = Helpers.ansible_file("himation.yml")
      ansible.sudo = true
      ansible.verbose = "v"
    end

  end
end
